<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="Ian C. Anderson&#x27;s website"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism.min.css"/><title>How to deprecate Ruby methods | iancanderson.com</title><meta name="next-head-count" content="16"/><link rel="preload" href="/iancanderson.com/_next/static/css/737ca215c9c6b17b.css" as="style"/><link rel="stylesheet" href="/iancanderson.com/_next/static/css/737ca215c9c6b17b.css" data-n-g=""/><link rel="preload" href="/iancanderson.com/_next/static/css/e1f6961df2961232.css" as="style"/><link rel="stylesheet" href="/iancanderson.com/_next/static/css/e1f6961df2961232.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/iancanderson.com/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/iancanderson.com/_next/static/chunks/webpack-d269412cfc126e68.js" defer=""></script><script src="/iancanderson.com/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/iancanderson.com/_next/static/chunks/main-bd817fa5a106f441.js" defer=""></script><script src="/iancanderson.com/_next/static/chunks/pages/_app-76cd57bf65f05d70.js" defer=""></script><script src="/iancanderson.com/_next/static/chunks/629-5e9cba5c65ba8520.js" defer=""></script><script src="/iancanderson.com/_next/static/chunks/pages/posts/%5Bslug%5D-e8d3b93e615a7a8e.js" defer=""></script><script src="/iancanderson.com/_next/static/X8ftJwGMlmzWbZECeXiff/_buildManifest.js" defer=""></script><script src="/iancanderson.com/_next/static/X8ftJwGMlmzWbZECeXiff/_ssgManifest.js" defer=""></script><script src="/iancanderson.com/_next/static/X8ftJwGMlmzWbZECeXiff/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="min-h-screen"><main><div class="container mx-auto px-5"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-20 mt-8"><a class="hover:underline" href="/">iancanderson</a>.</h2><article class="mb-32"><h1 class="text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">How to deprecate Ruby methods</h1><div class="max-w-2xl mx-auto"><div class="mb-6 text-lg"><time dateTime="2013-02-07T12:00:00.000Z">February	7, 2013</time></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__h_8de"><p>I've seen comments like this all too often in rails projects:</p>
<div class="remark-highlight"><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Thing</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_0</span></span>
  <span class="token keyword">end</span>

  <span class="token comment"># These methods shouldn't be used.</span>
  <span class="token comment"># Let's delete them in the future.</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_1</span></span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_2</span></span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre></div>
<p>What's wrong with this?</p>
<ul>
<li>The comment may no longer apply if the methods move around or someone accidentally inserts a method in between them.</li>
<li>Deprecated methods blend in with the rest of the class's methods.</li>
</ul>
<p>Simply wrap these methods inside a module called DeprecatedMethods, then mix it in to the class.</p>
<p>For example:</p>
<div class="remark-highlight"><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Thing</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_0</span></span>
  <span class="token keyword">end</span>

  <span class="token keyword">module</span> <span class="token class-name">DeprecatedMethods</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_1</span></span>
    <span class="token keyword">end</span>

    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_2</span></span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  <span class="token keyword">include</span> DeprecatedMethods
<span class="token keyword">end</span>
</code></pre></div>
<p>Now the comment isn't really necessary, and the deprecated methods live within
their own module that's namespaced to the class at hand.</p>
<p>Nothing groundbreaking, I know, but I find it to be an easy win to keep your deprecated methods organized until they're eventually removed.</p>
</div></div></article></div></main></div><footer class="bg-neutral-50 border-t border-neutral-200"><div class="container mx-auto px-5"></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"How to deprecate Ruby methods","date":"2013-02-07T12:00:00.000Z","slug":"how-to-deprecate-ruby-methods","content":"\u003cp\u003eI've seen comments like this all too often in rails projects:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ruby\"\u003e\u003ccode class=\"language-ruby\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eThing\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token method-definition\"\u003e\u003cspan class=\"token function\"\u003emethod_0\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e# These methods shouldn't be used.\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e# Let's delete them in the future.\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token method-definition\"\u003e\u003cspan class=\"token function\"\u003emethod_1\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token method-definition\"\u003e\u003cspan class=\"token function\"\u003emethod_2\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWhat's wrong with this?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe comment may no longer apply if the methods move around or someone accidentally inserts a method in between them.\u003c/li\u003e\n\u003cli\u003eDeprecated methods blend in with the rest of the class's methods.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSimply wrap these methods inside a module called DeprecatedMethods, then mix it in to the class.\u003c/p\u003e\n\u003cp\u003eFor example:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ruby\"\u003e\u003ccode class=\"language-ruby\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eThing\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token method-definition\"\u003e\u003cspan class=\"token function\"\u003emethod_0\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"token keyword\"\u003emodule\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eDeprecatedMethods\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token method-definition\"\u003e\u003cspan class=\"token function\"\u003emethod_1\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token method-definition\"\u003e\u003cspan class=\"token function\"\u003emethod_2\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"token keyword\"\u003einclude\u003c/span\u003e DeprecatedMethods\n\u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNow the comment isn't really necessary, and the deprecated methods live within\ntheir own module that's namespaced to the class at hand.\u003c/p\u003e\n\u003cp\u003eNothing groundbreaking, I know, but I find it to be an easy win to keep your deprecated methods organized until they're eventually removed.\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"how-to-deprecate-ruby-methods"},"buildId":"X8ftJwGMlmzWbZECeXiff","assetPrefix":"/iancanderson.com","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>