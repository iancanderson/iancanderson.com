<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="Ian C. Anderson&#x27;s website"/><meta property="og:title" content="iancanderson"/><meta property="og:description" content="Ian C. Anderson&#x27;s website"/><meta property="og:type" content="website"/><meta property="og:url" content="https://iancanderson.com"/><meta property="og:site_name" content="iancanderson"/><meta property="og:image" content="https://iancanderson.com/favicon/android-chrome-512x512.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="iancanderson"/><meta name="twitter:description" content="Ian C. Anderson&#x27;s website"/><meta name="twitter:image" content="https://iancanderson.com/favicon/android-chrome-512x512.png"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism.min.css"/><script defer="" data-domain="iancanderson.com" src="https://plausible.io/js/plausible.js"></script><title>How to deprecate Ruby methods | iancanderson.com</title><meta name="next-head-count" content="26"/><link rel="preload" href="/_next/static/css/9c41abd977aaff55.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9c41abd977aaff55.css" data-n-g=""/><link rel="preload" href="/_next/static/css/6dcb24919cc60400.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6dcb24919cc60400.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-bd817fa5a106f441.js" defer=""></script><script src="/_next/static/chunks/pages/_app-76cd57bf65f05d70.js" defer=""></script><script src="/_next/static/chunks/629-5e9cba5c65ba8520.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-a3294dadfb574383.js" defer=""></script><script src="/_next/static/vPOtnDiR_xovFUYqCA0cS/_buildManifest.js" defer=""></script><script src="/_next/static/vPOtnDiR_xovFUYqCA0cS/_ssgManifest.js" defer=""></script><script src="/_next/static/vPOtnDiR_xovFUYqCA0cS/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="min-h-screen"><main class="px-4 md:px-8 lg:px-12 max-w-5xl mx-auto"><div class="container mx-auto px-5"><div class="px-4 md:px-8 lg:px-12 max-w-5xl mx-auto mt-6 mb-10"><h1 class="inline-block brutal-border bg-[color:var(--brutal-card)] px-3 py-2 text-2xl md:text-4xl font-extrabold tracking-tight text-[color:var(--brutal-fg)]"><a class="no-underline text-[color:var(--brutal-fg)]" href="/">iancanderson</a></h1></div><article class="mb-32"><h1 class="text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">How to deprecate Ruby methods</h1><div class="max-w-2xl mx-auto"><div class="mb-6"><span class="italic text-slate-500"><time dateTime="2013-02-07T12:00:00.000Z">February	7, 2013</time></span></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__h_8de"><p>I&#x27;ve seen comments like this all too often in rails projects:</p><div class="remark-highlight"><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Thing</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_0</span></span>
  <span class="token keyword">end</span>

  <span class="token comment"># These methods shouldn&#x27;t be used.</span>
  <span class="token comment"># Let&#x27;s delete them in the future.</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_1</span></span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_2</span></span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre></div><p>What&#x27;s wrong with this?</p><ul><li>The comment may no longer apply if the methods move around or someone accidentally inserts a method in between them.</li><li>Deprecated methods blend in with the rest of the class&#x27;s methods.</li></ul><p>Simply wrap these methods inside a module called DeprecatedMethods, then mix it in to the class.</p><p>For example:</p><div class="remark-highlight"><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Thing</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_0</span></span>
  <span class="token keyword">end</span>

  <span class="token keyword">module</span> <span class="token class-name">DeprecatedMethods</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_1</span></span>
    <span class="token keyword">end</span>

    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_2</span></span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  <span class="token keyword">include</span> DeprecatedMethods
<span class="token keyword">end</span>
</code></pre></div><p>Now the comment isn&#x27;t really necessary, and the deprecated methods live within
their own module that&#x27;s namespaced to the class at hand.</p><p>Nothing groundbreaking, I know, but I find it to be an easy win to keep your deprecated methods organized until they&#x27;re eventually removed.</p></div></div></article></div></main></div><footer class="bg-neutral-50 border-t border-neutral-200"><div class="container mx-auto px-5"><div class="py-6 flex items-center justify-end"><div class="text-sm text-[color:var(--brutal-fg)]"><span class="mr-2 font-semibold">theme:</span><span><a href="#" class="hover:underline">one</a><span class="mx-2">|</span></span><span><a href="#" class="font-extrabold">two</a><span class="mx-2">|</span></span><span><a href="#" class="hover:underline">three</a><span class="mx-2">|</span></span><span><a href="#" class="hover:underline">dark</a></span></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"How to deprecate Ruby methods","date":"2013-02-07T12:00:00.000Z","slug":"how-to-deprecate-ruby-methods","content":{"compiledSource":"var l=Object.defineProperty,N=Object.defineProperties;var i=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var d=(a,n,s)=\u003en in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,e=(a,n)=\u003e{for(var s in n||(n={}))p.call(n,s)\u0026\u0026d(a,s,n[s]);if(o)for(var s of o(n))m.call(n,s)\u0026\u0026d(a,s,n[s]);return a},c=(a,n)=\u003eN(a,i(n));var r=(a,n)=\u003e{var s={};for(var t in a)p.call(a,t)\u0026\u0026n.indexOf(t)\u003c0\u0026\u0026(s[t]=a[t]);if(a!=null\u0026\u0026o)for(var t of o(a))n.indexOf(t)\u003c0\u0026\u0026m.call(a,t)\u0026\u0026(s[t]=a[t]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:a}=t,n=r(t,[\"components\"]);return mdx(MDXLayout,c(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"I've seen comments like this all too often in rails projects:\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-ruby\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-ruby\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"Thing\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_0\")),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# These methods shouldn't be used.\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Let's delete them in the future.\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_1\")),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_2\")),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n`))),mdx(\"p\",null,\"What's wrong with this?\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"The comment may no longer apply if the methods move around or someone accidentally inserts a method in between them.\"),mdx(\"li\",{parentName:\"ul\"},\"Deprecated methods blend in with the rest of the class's methods.\")),mdx(\"p\",null,\"Simply wrap these methods inside a module called DeprecatedMethods, then mix it in to the class.\"),mdx(\"p\",null,\"For example:\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-ruby\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-ruby\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"Thing\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_0\")),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"module\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"DeprecatedMethods\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_1\")),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_2\")),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"include\"),` DeprecatedMethods\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n`))),mdx(\"p\",null,`Now the comment isn't really necessary, and the deprecated methods live within\ntheir own module that's namespaced to the class at hand.`),mdx(\"p\",null,\"Nothing groundbreaking, I know, but I find it to be an easy win to keep your deprecated methods organized until they're eventually removed.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"how-to-deprecate-ruby-methods"},"buildId":"vPOtnDiR_xovFUYqCA0cS","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>