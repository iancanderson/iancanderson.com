<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="Ian C. Anderson&#x27;s website"/><meta property="og:title" content="iancanderson"/><meta property="og:description" content="Ian C. Anderson&#x27;s website"/><meta property="og:type" content="website"/><meta property="og:url" content="https://iancanderson.com"/><meta property="og:site_name" content="iancanderson"/><meta property="og:image" content="https://iancanderson.com/favicon/android-chrome-512x512.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="iancanderson"/><meta name="twitter:description" content="Ian C. Anderson&#x27;s website"/><meta name="twitter:image" content="https://iancanderson.com/favicon/android-chrome-512x512.png"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism.min.css"/><script defer="" data-domain="iancanderson.com" src="https://plausible.io/js/plausible.js"></script><title>How to deprecate Ruby methods<!-- --> | iancanderson.com</title><meta name="next-head-count" content="26"/><link rel="preload" href="/_next/static/css/16a3dce84f97d800.css" as="style"/><link rel="stylesheet" href="/_next/static/css/16a3dce84f97d800.css" data-n-g=""/><link rel="preload" href="/_next/static/css/8cbaaccfce91337f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8cbaaccfce91337f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-19ac88d09741657f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-fd40f5a4b55cf982.js" defer=""></script><script src="/_next/static/chunks/996-80bd74c565659df8.js" defer=""></script><script src="/_next/static/chunks/122-129b5da1e167191f.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-49359a068880b797.js" defer=""></script><script src="/_next/static/Q3cjCLkltDoDU8z4k6pgn/_buildManifest.js" defer=""></script><script src="/_next/static/Q3cjCLkltDoDU8z4k6pgn/_ssgManifest.js" defer=""></script></head><body class="theme-brutal-2"><div id="__next"><div class="min-h-screen"><main class="px-4 md:px-8 lg:px-12 max-w-5xl mx-auto"><div class="container mx-auto px-5"><div class="mt-6 mb-10"><div class="flex flex-col md:flex-row md:items-end md:justify-between"><h1 class="inline-block brutal-border bg-[color:var(--brutal-card)] px-3 py-2 text-3xl md:text-5xl font-extrabold tracking-tight text-[color:var(--brutal-fg)] self-center md:self-start text-center md:text-left"><a class="no-underline text-[color:var(--brutal-fg)]" href="/">iancanderson</a></h1><div class="text-lg mt-4 md:mt-0 self-center md:self-end text-center md:text-right"><a class="brutal-link" href="/tags/software">programmer</a><span class="mx-2">|</span><a class="brutal-link" href="/tags/music">musician</a><span class="mx-2">|</span><a class="brutal-link" href="/tags/homebrewing">homebrewer</a></div></div></div><article class="mb-32"><h1 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tighter leading-tight md:leading-none mb-10 text-center md:text-left">How to deprecate Ruby methods</h1><div class="max-w-2xl mx-auto"><div class="mb-6"><span class="italic text-slate-500"><time dateTime="2013-02-07T12:00:00.000Z">February	7, 2013</time></span></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__HwUWZ"><p>I&#x27;ve seen comments like this all too often in rails projects:</p>
<div class="remark-highlight"><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Thing</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_0</span></span>
  <span class="token keyword">end</span>

  <span class="token comment"># These methods shouldn&#x27;t be used.</span>
  <span class="token comment"># Let&#x27;s delete them in the future.</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_1</span></span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_2</span></span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre></div>
<p>What&#x27;s wrong with this?</p>
<ul>
<li>The comment may no longer apply if the methods move around or someone accidentally inserts a method in between them.</li>
<li>Deprecated methods blend in with the rest of the class&#x27;s methods.</li>
</ul>
<p>Simply wrap these methods inside a module called DeprecatedMethods, then mix it in to the class.</p>
<p>For example:</p>
<div class="remark-highlight"><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Thing</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_0</span></span>
  <span class="token keyword">end</span>

  <span class="token keyword">module</span> <span class="token class-name">DeprecatedMethods</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_1</span></span>
    <span class="token keyword">end</span>

    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">method_2</span></span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  <span class="token keyword">include</span> DeprecatedMethods
<span class="token keyword">end</span>
</code></pre></div>
<p>Now the comment isn&#x27;t really necessary, and the deprecated methods live within
their own module that&#x27;s namespaced to the class at hand.</p>
<p>Nothing groundbreaking, I know, but I find it to be an easy win to keep your deprecated methods organized until they&#x27;re eventually removed.</p></div></div></article></div></main></div><footer class="bg-neutral-50 border-t border-neutral-200"><div class="container mx-auto px-5"><div class="py-6 flex items-center justify-end"></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"How to deprecate Ruby methods","date":"2013-02-07T12:00:00.000Z","slug":"how-to-deprecate-ruby-methods","content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    div: \"div\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"I've seen comments like this all too often in rails projects:\"\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-ruby\",\n        children: _jsxs(_components.code, {\n          className: \"language-ruby\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"Thing\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"def\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token method-definition\",\n            children: _jsx(_components.span, {\n              className: \"token function\",\n              children: \"method_0\"\n            })\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"end\"\n          }), \"\\n\\n  \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# These methods shouldn't be used.\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# Let's delete them in the future.\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"def\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token method-definition\",\n            children: _jsx(_components.span, {\n              className: \"token function\",\n              children: \"method_1\"\n            })\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"end\"\n          }), \"\\n\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"def\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token method-definition\",\n            children: _jsx(_components.span, {\n              className: \"token function\",\n              children: \"method_2\"\n            })\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"end\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"end\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"What's wrong with this?\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"The comment may no longer apply if the methods move around or someone accidentally inserts a method in between them.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Deprecated methods blend in with the rest of the class's methods.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Simply wrap these methods inside a module called DeprecatedMethods, then mix it in to the class.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For example:\"\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-ruby\",\n        children: _jsxs(_components.code, {\n          className: \"language-ruby\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"Thing\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"def\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token method-definition\",\n            children: _jsx(_components.span, {\n              className: \"token function\",\n              children: \"method_0\"\n            })\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"end\"\n          }), \"\\n\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"module\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"DeprecatedMethods\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"def\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token method-definition\",\n            children: _jsx(_components.span, {\n              className: \"token function\",\n              children: \"method_1\"\n            })\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"end\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"def\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token method-definition\",\n            children: _jsx(_components.span, {\n              className: \"token function\",\n              children: \"method_2\"\n            })\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"end\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"end\"\n          }), \"\\n\\n  \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"include\"\n          }), \" DeprecatedMethods\\n\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"end\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now the comment isn't really necessary, and the deprecated methods live within\\ntheir own module that's namespaced to the class at hand.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Nothing groundbreaking, I know, but I find it to be an easy win to keep your deprecated methods organized until they're eventually removed.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"how-to-deprecate-ruby-methods"},"buildId":"Q3cjCLkltDoDU8z4k6pgn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>