<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="Ian C. Anderson&#x27;s website"/><meta property="og:title" content="iancanderson"/><meta property="og:description" content="Ian C. Anderson&#x27;s website"/><meta property="og:type" content="website"/><meta property="og:url" content="https://iancanderson.com"/><meta property="og:site_name" content="iancanderson"/><meta property="og:image" content="https://iancanderson.com/favicon/android-chrome-512x512.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="iancanderson"/><meta name="twitter:description" content="Ian C. Anderson&#x27;s website"/><meta name="twitter:image" content="https://iancanderson.com/favicon/android-chrome-512x512.png"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism.min.css"/><script defer="" data-domain="iancanderson.com" src="https://plausible.io/js/plausible.js"></script><title>My Next.js blog<!-- --> | iancanderson.com</title><meta name="next-head-count" content="26"/><link rel="preload" href="/_next/static/css/948bc4d7855cc2c2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/948bc4d7855cc2c2.css" data-n-g=""/><link rel="preload" href="/_next/static/css/8cbaaccfce91337f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8cbaaccfce91337f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-ce6f1fd4b853289a.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-19ac88d09741657f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e08669fc396e3a51.js" defer=""></script><script src="/_next/static/chunks/996-80bd74c565659df8.js" defer=""></script><script src="/_next/static/chunks/122-129b5da1e167191f.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-c601caec1f1a72ef.js" defer=""></script><script src="/_next/static/TKiZs0dSTbFU0oBeR8uly/_buildManifest.js" defer=""></script><script src="/_next/static/TKiZs0dSTbFU0oBeR8uly/_ssgManifest.js" defer=""></script></head><body class="theme-brutal-2"><div id="__next"><div class="min-h-screen"><main class="px-4 md:px-8 lg:px-12 max-w-5xl xl:max-w-7xl mx-auto"><div class="container mx-auto px-5"><div class="mt-6 mb-10"><div class="flex flex-col md:flex-row md:items-end md:justify-between"><h1 class="inline-block brutal-border bg-[color:var(--brutal-card)] px-3 py-2 text-3xl md:text-5xl font-extrabold tracking-tight text-[color:var(--brutal-fg)] self-center md:self-start text-center md:text-left"><a class="no-underline text-[color:var(--brutal-fg)]" href="/">iancanderson</a></h1><div class="text-lg mt-4 md:mt-0 self-center md:self-end text-center md:text-right"><a class="brutal-link" href="/tags/software">programmer</a><span class="mx-2">|</span><a class="brutal-link" href="/tags/music">musician</a><span class="mx-2">|</span><a class="brutal-link" href="/tags/homebrewing">homebrewer</a></div></div></div><article class="mb-32"><div class="max-w-2xl mx-auto"><h1 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tighter leading-tight md:leading-none mb-10 text-center md:text-left">My Next.js blog</h1><div class="max-w-2xl mx-auto"><div class="mb-6"><span class="italic text-slate-500"><time dateTime="2022-02-03T12:00:00.000Z">February	3, 2022</time></span></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__HwUWZ"><h2>Before</h2>
<p>My <a href="https://iancanderson.github.io">previous website</a> was a static site built with <a href="https://jekyllrb.com/">Jekyll</a>.</p>
<p>It worked just fine.</p>
<h2>Now</h2>
<p>I wanted to play with a modern stack.</p>
<p>The site you&#x27;re viewing now is powered by
<a href="https://nextjs.org/">Next.js</a>,
<a href="https://tailwindcss.com/">TailwindCSS</a>,
<a href="https://www.typescriptlang.org/">TypeScript</a>, and
<a href="https://mdxjs.com/">MDX</a>.</p>
<p>It&#x27;s still a statically-generated site and it&#x27;s deployed via <a href="https://pages.github.com/">GitHub Pages</a>.</p>
<h3>MDX</h3>
<p>I think <a href="https://mdxjs.com">MDX</a> is the most interesting bit so far: it lets you embed React components directly into your Markdown source files.</p>
<p>For example, here I&#x27;m embedding a counter react component with <code>&lt;Counter /&gt;</code>:</p>
<div><div><span class="relative z-0 inline-flex shadow-sm rounded-md"><button type="button" class="relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500">-</button><button type="button" class="-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500">0</button><button type="button" class="-ml-px relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500">+</button></span></div></div>
<h3>Flexibility</h3>
<p>Since this uses Next.js, it also allows me to add dynamic features to the site (via server-side (SSR) or client-side (SPA) rendering). If I end up going that way, I could host it on something like <a href="https://vercel.com/">Vercel</a> or <a href="https://www.netlify.com/">Netlify</a>. Also I&#x27;d be lying if I said I wasn&#x27;t inspired by <a href="https://brianlovin.com/writing/how-my-website-works">Brian Lovin&#x27;s new website</a>, which is a webapp deployed to <a href="https://vercel.com/">Vercel</a>.</p>
<h2>Deployment to GitHub Pages</h2>
<p>I have a <a href="https://github.com/iancanderson/iancanderson.com/blob/509dbad922db3e4daa62844bd826ba5c2d26ada9/.github/workflows/deploy.yml">GitHub Actions workflow</a> that deploys the site to GitHub Pages via the <a href="https://github.com/peaceiris/actions-gh-pages">gh-pages</a> action.</p>
<p>Here&#x27;s what happens when I push to the <code>main</code> branch:</p>
<h3><code>next build</code></h3>
<p>This creates an optimized version of the site in <code>./_next/</code></p>
<h3><code>next export</code></h3>
<p>This exports the site to static HTML that doesn&#x27;t need a node server to run.
See the <a href="https://github.com/iancanderson/iancanderson.com/tree/gh-pages"><code>gh-pages</code> branch</a> on my repo to see the exported site structure</p>
<h3><code>peaceiris/actions-gh-pages@v3</code></h3>
<p><a href="https://github.com/peaceiris/actions-gh-pages">This action</a> pushes the exported site to <code>gh-pages</code>, which is the branch that GitHub Pages uses to host the site.</p>
<h2>Resources</h2>
<p>I started with the <a href="https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript">typescript blog starter</a> example from Next.js, and then I added MDX support using this <a href="https://nextjs.org/blog/markdown">post</a> in this <a href="https://github.com/iancanderson/iancanderson.com/commit/005090bee69cfeac2df59e90290a558921b41085">commit</a>, using the <code>remark-prism</code> plugin for syntax highlighting.</p>
<p>Check out the code for this site on <a href="https://github.com/iancanderson/iancanderson.com">GitHub</a>.</p></div></div></div></article></div></main></div><footer class="bg-neutral-50 border-t border-neutral-200"><div class="container mx-auto px-5"><div class="py-6 flex items-center justify-end"></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"My Next.js blog","date":"2022-02-03T12:00:00.000Z","slug":"my-nextjs-powered-blog","content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    p: \"p\",\n    a: \"a\",\n    h3: \"h3\",\n    code: \"code\"\n  }, _provideComponents(), props.components), {Counter} = _components;\n  if (!Counter) _missingMdxReference(\"Counter\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h2, {\n      children: \"Before\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"My \", _jsx(_components.a, {\n        href: \"https://iancanderson.github.io\",\n        children: \"previous website\"\n      }), \" was a static site built with \", _jsx(_components.a, {\n        href: \"https://jekyllrb.com/\",\n        children: \"Jekyll\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It worked just fine.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Now\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I wanted to play with a modern stack.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The site you're viewing now is powered by\\n\", _jsx(_components.a, {\n        href: \"https://nextjs.org/\",\n        children: \"Next.js\"\n      }), \",\\n\", _jsx(_components.a, {\n        href: \"https://tailwindcss.com/\",\n        children: \"TailwindCSS\"\n      }), \",\\n\", _jsx(_components.a, {\n        href: \"https://www.typescriptlang.org/\",\n        children: \"TypeScript\"\n      }), \", and\\n\", _jsx(_components.a, {\n        href: \"https://mdxjs.com/\",\n        children: \"MDX\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"It's still a statically-generated site and it's deployed via \", _jsx(_components.a, {\n        href: \"https://pages.github.com/\",\n        children: \"GitHub Pages\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"MDX\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I think \", _jsx(_components.a, {\n        href: \"https://mdxjs.com\",\n        children: \"MDX\"\n      }), \" is the most interesting bit so far: it lets you embed React components directly into your Markdown source files.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For example, here I'm embedding a counter react component with \", _jsx(_components.code, {\n        children: \"\u003cCounter /\u003e\"\n      }), \":\"]\n    }), \"\\n\", _jsx(Counter, {}), \"\\n\", _jsx(_components.h3, {\n      children: \"Flexibility\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Since this uses Next.js, it also allows me to add dynamic features to the site (via server-side (SSR) or client-side (SPA) rendering). If I end up going that way, I could host it on something like \", _jsx(_components.a, {\n        href: \"https://vercel.com/\",\n        children: \"Vercel\"\n      }), \" or \", _jsx(_components.a, {\n        href: \"https://www.netlify.com/\",\n        children: \"Netlify\"\n      }), \". Also I'd be lying if I said I wasn't inspired by \", _jsx(_components.a, {\n        href: \"https://brianlovin.com/writing/how-my-website-works\",\n        children: \"Brian Lovin's new website\"\n      }), \", which is a webapp deployed to \", _jsx(_components.a, {\n        href: \"https://vercel.com/\",\n        children: \"Vercel\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Deployment to GitHub Pages\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I have a \", _jsx(_components.a, {\n        href: \"https://github.com/iancanderson/iancanderson.com/blob/509dbad922db3e4daa62844bd826ba5c2d26ada9/.github/workflows/deploy.yml\",\n        children: \"GitHub Actions workflow\"\n      }), \" that deploys the site to GitHub Pages via the \", _jsx(_components.a, {\n        href: \"https://github.com/peaceiris/actions-gh-pages\",\n        children: \"gh-pages\"\n      }), \" action.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Here's what happens when I push to the \", _jsx(_components.code, {\n        children: \"main\"\n      }), \" branch:\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: _jsx(_components.code, {\n        children: \"next build\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This creates an optimized version of the site in \", _jsx(_components.code, {\n        children: \"./_next/\"\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: _jsx(_components.code, {\n        children: \"next export\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This exports the site to static HTML that doesn't need a node server to run.\\nSee the \", _jsxs(_components.a, {\n        href: \"https://github.com/iancanderson/iancanderson.com/tree/gh-pages\",\n        children: [_jsx(_components.code, {\n          children: \"gh-pages\"\n        }), \" branch\"]\n      }), \" on my repo to see the exported site structure\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: _jsx(_components.code, {\n        children: \"peaceiris/actions-gh-pages@v3\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://github.com/peaceiris/actions-gh-pages\",\n        children: \"This action\"\n      }), \" pushes the exported site to \", _jsx(_components.code, {\n        children: \"gh-pages\"\n      }), \", which is the branch that GitHub Pages uses to host the site.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Resources\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I started with the \", _jsx(_components.a, {\n        href: \"https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript\",\n        children: \"typescript blog starter\"\n      }), \" example from Next.js, and then I added MDX support using this \", _jsx(_components.a, {\n        href: \"https://nextjs.org/blog/markdown\",\n        children: \"post\"\n      }), \" in this \", _jsx(_components.a, {\n        href: \"https://github.com/iancanderson/iancanderson.com/commit/005090bee69cfeac2df59e90290a558921b41085\",\n        children: \"commit\"\n      }), \", using the \", _jsx(_components.code, {\n        children: \"remark-prism\"\n      }), \" plugin for syntax highlighting.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Check out the code for this site on \", _jsx(_components.a, {\n        href: \"https://github.com/iancanderson/iancanderson.com\",\n        children: \"GitHub\"\n      }), \".\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"my-nextjs-powered-blog"},"buildId":"TKiZs0dSTbFU0oBeR8uly","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>