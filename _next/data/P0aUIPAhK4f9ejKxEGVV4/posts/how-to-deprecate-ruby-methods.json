{"pageProps":{"post":{"title":"How to deprecate Ruby methods","date":"2013-02-07T12:00:00.000Z","slug":"how-to-deprecate-ruby-methods","content":{"compiledSource":"var l=Object.defineProperty,N=Object.defineProperties;var i=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var d=(a,n,s)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,e=(a,n)=>{for(var s in n||(n={}))p.call(n,s)&&d(a,s,n[s]);if(o)for(var s of o(n))m.call(n,s)&&d(a,s,n[s]);return a},c=(a,n)=>N(a,i(n));var r=(a,n)=>{var s={};for(var t in a)p.call(a,t)&&n.indexOf(t)<0&&(s[t]=a[t]);if(a!=null&&o)for(var t of o(a))n.indexOf(t)<0&&m.call(a,t)&&(s[t]=a[t]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:a}=t,n=r(t,[\"components\"]);return mdx(MDXLayout,c(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"I've seen comments like this all too often in rails projects:\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-ruby\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-ruby\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"Thing\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_0\")),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# These methods shouldn't be used.\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Let's delete them in the future.\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_1\")),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_2\")),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n`))),mdx(\"p\",null,\"What's wrong with this?\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"The comment may no longer apply if the methods move around or someone accidentally inserts a method in between them.\"),mdx(\"li\",{parentName:\"ul\"},\"Deprecated methods blend in with the rest of the class's methods.\")),mdx(\"p\",null,\"Simply wrap these methods inside a module called DeprecatedMethods, then mix it in to the class.\"),mdx(\"p\",null,\"For example:\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-ruby\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-ruby\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"Thing\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_0\")),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"module\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"DeprecatedMethods\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_1\")),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"def\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token method-definition\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"method_2\")),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"include\"),` DeprecatedMethods\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"end\"),`\n`))),mdx(\"p\",null,`Now the comment isn't really necessary, and the deprecated methods live within\ntheir own module that's namespaced to the class at hand.`),mdx(\"p\",null,\"Nothing groundbreaking, I know, but I find it to be an easy win to keep your deprecated methods organized until they're eventually removed.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true}