{"pageProps":{"post":{"title":"How to deprecate Ruby methods","date":"2013-02-07T12:00:00.000Z","slug":"how-to-deprecate-ruby-methods","content":"<p>I've seen comments like this all too often in rails projects:</p>\n<div class=\"remark-highlight\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Thing</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">method_0</span></span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token comment\"># These methods shouldn't be used.</span>\n  <span class=\"token comment\"># Let's delete them in the future.</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">method_1</span></span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">method_2</span></span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n</code></pre></div>\n<p>What's wrong with this?</p>\n<ul>\n<li>The comment may no longer apply if the methods move around or someone accidentally inserts a method in between them.</li>\n<li>Deprecated methods blend in with the rest of the class's methods.</li>\n</ul>\n<p>Simply wrap these methods inside a module called DeprecatedMethods, then mix it in to the class.</p>\n<p>For example:</p>\n<div class=\"remark-highlight\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Thing</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">method_0</span></span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">module</span> <span class=\"token class-name\">DeprecatedMethods</span>\n    <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">method_1</span></span>\n    <span class=\"token keyword\">end</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">method_2</span></span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">include</span> DeprecatedMethods\n<span class=\"token keyword\">end</span>\n</code></pre></div>\n<p>Now the comment isn't really necessary, and the deprecated methods live within\ntheir own module that's namespaced to the class at hand.</p>\n<p>Nothing groundbreaking, I know, but I find it to be an easy win to keep your deprecated methods organized until they're eventually removed.</p>\n"}},"__N_SSG":true}