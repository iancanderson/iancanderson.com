{"pageProps":{"post":{"title":"My Next.js blog","date":"2022-02-03T12:00:00.000Z","slug":"my-nextjs-powered-blog","content":{"compiledSource":"var c=Object.defineProperty,m=Object.defineProperties;var l=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var s=(t,a,n)=>a in t?c(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,e=(t,a)=>{for(var n in a||(a={}))p.call(a,n)&&s(t,n,a[n]);if(o)for(var n of o(a))r.call(a,n)&&s(t,n,a[n]);return t},h=(t,a)=>m(t,l(a));var d=(t,a)=>{var n={};for(var i in t)p.call(t,i)&&a.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&o)for(var i of o(t))a.indexOf(i)<0&&r.call(t,i)&&(n[i]=t[i]);return n};const makeShortcode=t=>function(n){return console.warn(\"Component \"+t+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},n))},Counter=makeShortcode(\"Counter\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var i=n,{components:t}=i,a=d(i,[\"components\"]);return mdx(MDXLayout,h(e(e({},layoutProps),a),{components:t,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"Before\"),mdx(\"p\",null,\"My \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://iancanderson.github.io\"}),\"previous website\"),\" was a static site built with \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://jekyllrb.com/\"}),\"Jekyll\"),\".\"),mdx(\"p\",null,\"It worked just fine.\"),mdx(\"h2\",null,\"Now\"),mdx(\"p\",null,\"I wanted to play with a modern stack.\"),mdx(\"p\",null,`The site you're viewing now is powered by\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://nextjs.org/\"}),\"Next.js\"),`,\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://tailwindcss.com/\"}),\"TailwindCSS\"),`,\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.typescriptlang.org/\"}),\"TypeScript\"),`, and\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://mdxjs.com/\"}),\"MDX\"),\".\"),mdx(\"p\",null,\"It's still a statically-generated site and it's deployed via \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://pages.github.com/\"}),\"GitHub Pages\"),\".\"),mdx(\"h3\",null,\"MDX\"),mdx(\"p\",null,\"I think \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://mdxjs.com\"}),\"MDX\"),\" is the most interesting bit so far: it lets you embed React components directly into your Markdown source files.\"),mdx(\"p\",null,\"For example, here I'm embedding a counter react component with \",mdx(\"inlineCode\",{parentName:\"p\"},\"<Counter />\"),\":\"),mdx(Counter,{mdxType:\"Counter\"}),mdx(\"h3\",null,\"Flexibility\"),mdx(\"p\",null,\"Since this uses Next.js, it also allows me to add dynamic features to the site (via server-side (SSR) or client-side (SPA) rendering). If I end up going that way, I could host it on something like \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vercel.com/\"}),\"Vercel\"),\" or \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.netlify.com/\"}),\"Netlify\"),\". Also I'd be lying if I said I wasn't inspired by \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://brianlovin.com/writing/how-my-website-works\"}),\"Brian Lovin's new website\"),\", which is a webapp deployed to \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vercel.com/\"}),\"Vercel\"),\".\"),mdx(\"h2\",null,\"Deployment to GitHub Pages\"),mdx(\"p\",null,\"I have a \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/iancanderson/iancanderson.com/blob/509dbad922db3e4daa62844bd826ba5c2d26ada9/.github/workflows/deploy.yml\"}),\"GitHub Actions workflow\"),\" that deploys the site to GitHub Pages via the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/peaceiris/actions-gh-pages\"}),\"gh-pages\"),\" action.\"),mdx(\"p\",null,\"Here's what happens when I push to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"main\"),\" branch:\"),mdx(\"h3\",null,mdx(\"inlineCode\",{parentName:\"h3\"},\"next build\")),mdx(\"p\",null,\"This creates an optimized version of the site in \",mdx(\"inlineCode\",{parentName:\"p\"},\"./_next/\")),mdx(\"h3\",null,mdx(\"inlineCode\",{parentName:\"h3\"},\"next export\")),mdx(\"p\",null,`This exports the site to static HTML that doesn't need a node server to run.\nSee the `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/iancanderson/iancanderson.com/tree/gh-pages\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"gh-pages\"),\" branch\"),\" on my repo to see the exported site structure\"),mdx(\"h3\",null,mdx(\"inlineCode\",{parentName:\"h3\"},\"peaceiris/actions-gh-pages@v3\")),mdx(\"p\",null,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/peaceiris/actions-gh-pages\"}),\"This action\"),\" pushes the exported site to \",mdx(\"inlineCode\",{parentName:\"p\"},\"gh-pages\"),\", which is the branch that GitHub Pages uses to host the site.\"),mdx(\"h2\",null,\"Resources\"),mdx(\"p\",null,\"I started with the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript\"}),\"typescript blog starter\"),\" example from Next.js, and then I added MDX support using this \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://nextjs.org/blog/markdown\"}),\"post\"),\" in this \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/iancanderson/iancanderson.com/commit/005090bee69cfeac2df59e90290a558921b41085\"}),\"commit\"),\", using the \",mdx(\"inlineCode\",{parentName:\"p\"},\"remark-prism\"),\" plugin for syntax highlighting.\"),mdx(\"p\",null,\"Check out the code for this site on \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/iancanderson/iancanderson.com\"}),\"GitHub\"),\".\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true}